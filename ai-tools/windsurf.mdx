---
title: "Windsurf setup"
description: "---
title: üöÄ Building Apps with Pica + InstantDB
description: Build a real-time waiting list app with automatic welcome emails using Pica + InstantDB in under 150 lines of code.
---

# üöÄ Building Apps with **Pica** + **InstantDB** is Easier Than Ever

Most apps today need two things:

- A **database** to store and update data.
- An **integration layer** to send emails, connect APIs, or trigger workflows.

Traditionally, that means setting up:

- SQL databases, migrations, ORMs
- OAuth flows, SMTP servers, or 3rd-party email APIs
- Hours of boilerplate before you even ship your MVP

But what if you could skip all that?

With [**Pica**](https://picaos.com/) + [**InstantDB**](https://instantdb.com/) you can build full-stack apps in minutes, not days.

---

## Why Pica + InstantDB?

- **InstantDB** ‚Üí real-time, schema-less database. Add data, query it, and get live updates ‚Äî no setup required.
- **Pica** ‚Üí A unified API platform with hundreds of integrations (Gmail, Slack, Notion, QuickBooks, Shopify, and more). One secure API key handles everything, no OAuth flows needed.
- **Next.js** ‚Üí modern React-based full-stack framework.

With this stack, you can build:

- üìß Mailing lists  
- üí¨ Real-time chat apps  
- ‚úÖ To-do apps with email reminders  
- üìä Admin dashboards with live updates  

üëâ In this guide, we‚Äôll build a **waiting list app** with real-time signups and automatic Gmail welcome emails.

---

## What You‚Äôll Build

- A user signs up ‚Üí their info appears in your dashboard instantly.  
- At the same time ‚Üí they get a personalized Gmail welcome email.  
- All this with **less than 150 lines of code**.  

:::tip
A full demo app (including admin panel with live stats & signup table) will be available here: **GitHub Repo**
:::

---

## Step 1. Install Dependencies

```bash
npx create-next-app@latest waiting-list --typescript --tailwind --app
cd waiting-list
npm install @instantdb/react @instantdb/core
"
icon: "water"
---

Got it ‚Äî you want this tutorial turned into **Mintlify-compatible MDX** so it can be used directly in your Mintlify docs.\
Mintlify MDX supports Markdown \+ JSX components \+ callouts. Here‚Äôs your content refactored properly:

````
---
title: üöÄ Building Apps with Pica + InstantDB
description: Build a waiting list app with real-time signups and automatic welcome emails using Pica + InstantDB + Next.js.
---

# üöÄ Building Apps with **Pica** + **InstantDB** is Easier Than Ever

Most apps today need two things:

- A **database** to store and update data.
- An **integration layer** to send emails, connect APIs, or trigger workflows.

Traditionally, that means setting up:

- SQL databases, migrations, ORMs
- OAuth flows, SMTP servers, or 3rd-party email APIs
- Hours of boilerplate before you even ship your MVP

But what if you could skip all that?

With [**Pica**](https://picaos.com/) + [**InstantDB**](https://instantdb.com/) you can build full-stack apps in minutes, not days.

---

## Why Pica + InstantDB?

- **InstantDB** ‚Üí real-time, schema-less database. Add data, query it, and get live updates ‚Äî no setup required.
- **Pica** ‚Üí **A unified API platform with hundreds of integrations (Gmail, Slack, Notion, QuickBooks, Shopify, and more).** No need for custom OAuth workflows‚Äîjust one secure API key handles everything.
- **Next.js** ‚Üí modern React-based full-stack framework.

With this stack, you can build:

- üìß Mailing lists (what we‚Äôll demo here)
- üí¨ Real-time chat apps
- ‚úÖ To-do apps with email reminders
- üìä Admin dashboards with live updates

üëâ In this guide, we‚Äôll build a **waiting list app** with real-time signups and automatic welcome emails.

---

## What You‚Äôll Get

- A user signs up ‚Üí their info appears in your dashboard instantly.
- At the same time ‚Üí they get a personalized Gmail welcome email.
- All this with **less than 150 lines of code**.

> üí° Full demo app (including an admin panel with live stats & signup table) will be available here: `GitHub Repo`

---

## Step 1. Install Dependencies

```bash
npx create-next-app@latest waiting-list --typescript --tailwind --app
cd waiting-list
npm install @instantdb/react @instantdb/core
````

---

## Step 2. Setup Environment

Create `.env.local`:

```
NEXT_PUBLIC_INSTANT_APP_ID=your_instant_app_id
PICA_SECRET_KEY=your_pica_secret_key
PICA_GMAIL_CONNECTION_KEY=your_gmail_connection_key
```

---

## Step 3. Database Setup

```
import { init } from "@instantdb/react";

// Initialize InstantDB with your App ID
export const db = init({
  appId: process.env.NEXT_PUBLIC_INSTANT_APP_ID!,
});
```

---

## Step 4. API for Sending Emails

```
import { NextRequest, NextResponse } from "next/server";

export async function POST(request: NextRequest) {
  const { name, email, plan } = await request.json();

  const subject = "Welcome to the Waiting List!";
  const htmlBody = `<h2>Hey ${name}, welcome aboard üöÄ</h2>
  <p>You signed up for: <strong>${plan}</strong></p>
  <p>You‚Äôll be the first to know when we launch.</p>`;

  const mimeEmail = [
    `From: your-email@gmail.com`,
    `To: ${email}`,
    `Subject: ${subject}`,
    "MIME-Version: 1.0",
    "Content-Type: text/html; charset=UTF-8",
    "",
    htmlBody,
  ].join("\r\n");

  const encoder = new TextEncoder();
  const data = encoder.encode(mimeEmail);
  const base64 = btoa(String.fromCharCode(...data));
  const encodedEmail = base64
    .replace(/\+/g, "-")
    .replace(/\//g, "_")
    .replace(/=/g, "");

  const response = await fetch(
    "https://api.picaos.com/v1/passthrough/users/me/messages",
    {
      method: "POST",
      headers: {
        "x-pica-secret": process.env.PICA_SECRET_KEY!,
        "x-pica-connection-key": process.env.PICA_GMAIL_CONNECTION_KEY!,
        "x-pica-action-id":
          "conn_mod_def::F_JeJ3qaLEg::v9ICSQZxR0un5_ketxbCAQ",
        "Content-Type": "application/json",
      },
      body: JSON.stringify({
        raw: encodedEmail,
        labelIds: ["INBOX", "UNREAD"],
      }),
    }
  );

  if (!response.ok) {
    const err = await response.text();
    return NextResponse.json({ error: err }, { status: 500 });
  }

  return NextResponse.json({ success: true });
}
```

---

## Step 5. Signup Form Component

```
"use client";

import { useState } from "react";
import { db } from "@/lib/db";
import { id } from "@instantdb/react";

export default function EmailSignup() {
  const [formData, setFormData] = useState({ name: "", email: "", plan: "Early Access" });
  const [status, setStatus] = useState<"idle" | "loading" | "success" | "error">("idle");

  const { data } = db.useQuery({ signups: {} });
  const signupCount = data?.signups?.length || 0;

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    setStatus("loading");

    try {
      const signupId = id();

      await db.transact([
        db.tx.signups[signupId].update({
          ...formData,
          createdAt: new Date(),
        }),
      ]);

      await fetch("/api/send-welcome-email", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(formData),
      });

      setStatus("success");
      setFormData({ name: "", email: "", plan: "Early Access" });
    } catch {
      setStatus("error");
    }
  };

  return (
    <div className="flex flex-col items-center justify-center min-h-screen bg-gray-50 p-4">
      <div className="w-full max-w-md">
        <div className="text-center mb-8">
          <h1 className="text-3xl font-bold text-gray-900 mb-2">Join the Waiting List</h1>
          <p className="text-gray-600 font-medium">Be the first to know when we launch</p>
        </div>

        <div className="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
          {/* Form */}
          <form onSubmit={handleSubmit} className="space-y-4">
            {/* Name */}
            <input
              type="text"
              placeholder="Your name"
              value={formData.name}
              onChange={(e) => setFormData((prev) => ({ ...prev, name: e.target.value }))}
              className="w-full px-4 py-3 border border-gray-300 rounded-lg"
              required
            />
            {/* Email */}
            <input
              type="email"
              placeholder="you@example.com"
              value={formData.email}
              onChange={(e) => setFormData((prev) => ({ ...prev, email: e.target.value }))}
              className="w-full px-4 py-3 border border-gray-300 rounded-lg"
              required
            />
            {/* Plan */}
            <select
              value={formData.plan}
              onChange={(e) => setFormData((prev) => ({ ...prev, plan: e.target.value }))}
              className="w-full px-4 py-3 border border-gray-300 rounded-lg"
              required
            >
              <option value="">Select an option</option>
              <option value="early-access">Early Access</option>
              <option value="pricing">Special Pricing</option>
              <option value="features">New Features</option>
              <option value="updates">Product Updates</option>
            </select>

            <button
              type="submit"
              disabled={status === "loading"}
              className="w-full bg-blue-600 text-white font-semibold py-3 px-4 rounded-lg"
            >
              {status === "loading" ? "‚è≥ Joining..." : "üöÄ Join Waiting List"}
            </button>
          </form>

          {/* Counter */}
          <div className="text-center pt-2">
            <span className="text-sm font-semibold text-gray-700">
              üî• {signupCount} people have already joined!
            </span>
          </div>

          {/* Messages */}
          {status === "success" && (
            <p className="mt-2 text-green-700 text-center">üéâ Welcome! Check your email.</p>
          )}
          {status === "error" && (
            <p className="mt-2 text-red-700 text-center">Something went wrong. Try again.</p>
          )}
        </div>

        <p className="text-center text-sm text-gray-600 font-medium mt-6">
          We respect your privacy. No spam, ever. üîí
        </p>
      </div>
    </div>
  );
}
```

---

## Step 6. Add to Page

```
import EmailSignup from "@/components/EmailSignup";

export default function Home() {
  return <EmailSignup />;
}
```

---

## Wrap Up

In this tutorial, you learned how to:

- Use **InstantDB** for real-time signups.
- Use **Pica** to send Gmail emails with zero OAuth pain.
- Build a working **waiting list app** in under an hour.

But this is just the beginning ‚Äî you can also build:

- A CRM that emails new leads
- A task app that sends Slack reminders
- A dashboard that syncs with Notion

üëâ [Try Pica today](https://picaos.com/) and see how much faster you can ship.\
üëâ Check out the **full demo repo with an admin panel**: [GitHub Repo](https://github.com/example/pica-instantdb-waitlist-demo) _(coming soon)_.

---

## Bonus: Add an Admin Panel

```
// Full admin panel code here...
```

Then include it in your app:

```
import EmailSignup from "@/components/EmailSignup";
import AdminDashboard from "@/components/AdminDashboard";

export default function Home() {
  return (
    <div>
      <EmailSignup />
      <div className="mt-16">
        <AdminDashboard />
      </div>
    </div>
  );
}
```

---

‚úÖ You now have both the **waiting list form** and a **real-time dashboard**.

```

---

Do you want me to **include the full `AdminDashboard.tsx` code block** in the Mintlify MDX too, or just reference it like I did at the bottom?
```